# 调用接口

## 初始化

调用平台任何其他的函数前，都要先调用该函数请求初始化SDK。初始化结果将会通过onInit回调函数返回给游戏。

_**注意：调用初始化函数之前，请先注册**_[_**相关回调函数**_](zhu-ce-hui-tiao.md)_**，如`setOnInitCB（）、setOnPayCB()`等**_

```text
函数：
GameSDK.init( version, gameId, gameKey, gameSecret )
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| version | 接口版本号 | int | 非空 | 当前版本为：1 |
| gameId | 游戏Id | int | 非空 | 后台游戏资料中获得 |
| gameKey | 游戏Key | string | 非空 | 后台游戏资料中获得 |
| gameSecret | 游戏签名 | string | 非空 | 后台游戏资料中获得 |

## 游戏退出

调用该函数后平台会立即结束游戏并关闭游戏窗口。

```text
函数：
GameSDK.quit( reason )
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :---: | :--- | :--- | :--- | :--- |
| reason | 退出原因 | int | 非空 | 1、正常退出；2、异常退出 |

## 设置屏幕朝向

调用该函数可以设置游戏时的屏幕显示朝向。

```text
函数：
GameSDK.setOrientation( orientation )
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| orientation | 朝向 | int | 非空 | 0、 横屏； 1、竖屏 |

## 设置声音

调用该函数可以设置游戏时声音是否开启以及音量大小。

```text
函数：
GameSDK.setAudio( enable, volume )
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| enable | 是否开启 | int | 非空 | 0、关闭；1、开启 |
| volume | 声量 | int | 非空 | 1~100 |

## 设置游戏加载进度（SDK版本&gt;=2）

SDK版本2开始，平台增加了统一的游戏加载进度界面，用于游戏后台加载时显示。

游戏需要在初始化后，通过此函数报告游戏加载进度。加载界面将显示“加载中...”

当进度&gt;=100%时，如果是对战类游戏，加载界面将提醒用户“等待对手进入中...”，并且游戏需要在对手都进入房间后，调用hideLoadProgress函数关闭加载界面。

当进度&gt;=100%时，如果是非对战类游戏，加载界面将提醒用户“加载完成”，游戏需调用hideLoadProgress函数关闭加载界面。

```text
函数：
GameSDK. setLoadProgress (progress)
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| progress | 加载进度 | int | 非空 | 1-100 |

## 隐藏游戏加载进度

用于关闭加载进度界面。此后玩家才可以和游戏交互。

```text
函数：
GameSDK. hideLoadProgress ()
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| 无 |  |  |  |  |

## 支付

```text
函数：
GameSDK.pay(orderId, goodsName, goodsDesc, orderAmount, extension, notifyURL)
```

参数说明：

| **参数** | **含义** | **类型** | **是否为空** | **备注** |
| :--- | :--- | :--- | :--- | :--- |
| orderId | 订单号 | string | 非空 |  |
| goodsName | 商品名称 | string | 非空 |  |
| goodsDesc | 商品描述 | string | 非空 |  |
| orderAmount | 商品价格 | int | 非空 | 以“分”为单位 |
| extension | 透传数据 | string | 非空 | 透传发送到游戏服务器 |
| notifyURL | 支付付款通知地址 | string | 非空 | 支付成功通知游戏服务器 |

